{"version":3,"sources":["js/sudoku-grid-util.js","js/sudoku-generator.js","js/sudoku-grid-builder.js","js/sudoku-grid.js","js/sudoku.js","js/sudoku-ui.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["rows","Set","cols","lowerCaseRows","getRows","getLowerCaseRows","getCols","getSquares","cross","getUnitList","map","c","concat","r","u","forEach","push","getUnits","squares","unitlist","units","Map","s","set","filter","has","getPeers","peers","p","get","x","a","b","values","a1","b1","add","some","seq","func","d","result","shuffle","array","currentIndex","length","temporaryValue","randomIndex","Math","floor","random","all","v","getRandomInt","min","max","level","easy","medium","hard","master","digits","parseGrid","grid","gridValues","entries","assign","chars","i","others","d2","eliminate","size","s2","unit","dplaces","solve","search","sort","s1","solved","unitSolved","diff","randomPuzzle","n","randomValue","ds","isUnique","original","test","createPuzzle","solution","puzzle","indices","shuffled","j","getGame","difficulty","squareClass","contentClass","createRow","cellSize","row","document","createElement","setAttribute","style","height","createSquare","square","width","maxWidth","flex","createSquareContent","id","content","toLowerCase","d1","build","element","getElementById","offsetWidth","appendChild","peerIds","SudokuGrid","clues","clue","innerHTML","classList","value","highlightedSquare","toUpperCase","contains","remove","highlightedPeers","Sudoku","game","generator","fillClues","setKeyInputEvents","setBtnInputEvents","onclick","reset","erase","setSquareValue","buttons","querySelectorAll","displayMessage","el","highlightSquare","highlightPeers","onkeydown","e","key","keycode","keyCode","window","alert","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","module","OVERLAY_ID","OldModule","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","console","clear","hmrApply","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","overlay","createErrorOverlay","body","stackTrace","innerText","getParents","modules","parents","k","dep","Array","isArray","Function","deps","cached","cache","cb"],"mappings":"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","file":"sudoku-ui.85b7b82b.js","sourceRoot":"../src","sourcesContent":["const rows = new Set(['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I']);\nconst cols = new Set(['1', '2', '3', '4', '5', '6', '7', '8', '9']);\nconst lowerCaseRows = new Set(['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i']);\n\nexport function getRows() {\n  return rows;\n}\n\nexport function getLowerCaseRows() {\n  return lowerCaseRows;\n}\n\nexport function getCols() {\n  return cols\n}\n\nexport function getSquares() {\n  return cross(rows, cols);\n}\n\nexport function getUnitList() {\n  return [...cols].map(c => cross(rows, new Set(c)))\n      .concat([...rows].map(r => cross(new Set(r), cols)))\n      .concat((() => {\n        let u = [];\n        [['A', 'B', 'C'], ['D', 'E', 'F'], ['G', 'H', 'I']].forEach(r => {\n          [['1', '2', '3'], ['4', '5', '6'], ['7', '8', '9']].forEach(c => {\n            u.push(cross(new Set(r), new Set(c)))\n          })\n        });\n\n        return u;\n      })());\n}\n\nexport function getUnits(squares, unitlist) {\n  let units = new Map();\n  [...squares].forEach(s => units.set(s, unitlist.filter(u => u.has(s))));\n\n  return units;\n}\n\nexport function getPeers(squares, units) {\n  let peers = new Map();\n\n  [...squares].forEach(s => {\n    let p = units.get(s);\n    peers.set(s, new Set(\n        [...new Set([...p[0], ...p[1], ...p[2]])].filter(x => x !== s)));\n  });\n\n  return peers;\n}\n\nexport function cross(a, b) {\n  let c = new Set();\n\n  for (let a1 of a.values()) {\n    for (let b1 of b.values() || b) {\n      c.add(a1 + b1);\n    }\n  }\n\n  return c;\n}\n\nexport function some(seq, func) {\n  for (let d of seq) {\n    let result = func(d);\n    if (result) return result;\n  }\n\n  return false;\n}\n\n/**\n * Fisher-Yates Shuffle\n * See http://bit.ly/2gMXijX\n */\nexport function shuffle(seq) {\n  let array = [...seq];\n  let currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nexport function all(values) {\n  for (let v of values)\n    if (!v) return false;\n\n  return true;\n}\n\nexport function getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}","/**\n * A JavaScript port based on \"Solving Every Sudoku Puzzle\"\n * by Peter Norvig.\n *\n * The article can be found here:\n * - http://norvig.com/sudoku.html\n *\n * The original Python source can be found here:\n * - https://github.com/norvig/pytudes/blob/master/sudoku.py\n */\n\nimport {\n  getCols,\n  getSquares,\n  getUnitList,\n  getUnits,\n  getPeers,\n  some,\n  shuffle,\n  all,\n  getRandomInt\n} from './sudoku-grid-util';\n\nconst level = {\n  easy: 28,\n  medium: 37,\n  hard: 45,\n  master: 65\n};\n\nconst digits = getCols();\nconst squares = getSquares();\nconst unitlist = getUnitList();\n\nlet units = getUnits(squares, unitlist);\nlet peers = getPeers(squares, units);\n\n/**\n * Convert grid to a dict of possible values, {square: digits},\n * or return false if a contradiction is detected.\n */\nfunction parseGrid(grid) {\n  let values = new Map();\n  squares.forEach(s => values.set(s, digits));\n\n  for (let [s, d] of gridValues(grid).entries()) {\n    if (digits.has(d) && !assign(values, s, d)) {\n      return false;\n    }\n  }\n\n  return values;\n}\n\n/**\n * Convert grid into a dict of {square: char} with '0' or '.' for empties.\n */\nfunction gridValues(grid) {\n  let chars = grid.filter(c => digits.has(c) || c === '0' || c === '.');\n  let values = new Map();\n  let s = [...squares];\n\n  for (let i = 0; i < s.length; i++) {\n    values.set(s[i], chars[i]);\n  }\n\n  return values;\n}\n\n/**\n * Eliminate all the other values (except d) from values[s] and propagate.\n * Return values, except return False if a contradiction is detected.\n */\nfunction assign(values, s, d) {\n  let others = [...values.get(s)].filter(x => x !== d);\n  return all(others.map(d2 => eliminate(values, s, d2))) ? values : false;\n}\n\n/**\n * Eliminate d from values[s]; propagate when values or places <= 2.\n * Return values, except return False if a contradiction is detected.\n */\nfunction eliminate(values, s, d) {\n  if (!values.get(s).has(d))\n    return values;\n\n  values.set(s, new Set([...values.get(s)].filter(x => x !== d)));\n\n  if (!values.get(s).size) {\n    return false;\n\n  } else if (values.get(s).size === 1) {\n    let d2 = [...values.get(s)][0];\n\n    if (!all([...peers.get(s)].map(s2 => eliminate(values, s2, d2))))\n      return false;\n  }\n\n  for (let unit of units.get(s)) {\n    let dplaces = [...unit].filter(s2 => values.get(s2).has(d));\n\n    if (!dplaces.length) {\n      return false;\n    } else if (dplaces.length === 1) {\n      if (!assign(values, dplaces[0], d))\n        return false;\n    }\n  }\n\n  return values;\n}\n\nfunction solve(grid) {\n  return search(parseGrid(grid));\n}\n\n/**\n * Using depth-first search and propagation, try all possible values.\n */\nfunction search(values) {\n  if (!values)\n    return false;\n\n  if (all([...squares].map(s => values.get(s).size === 1)))\n    return values;\n\n  let s = [...squares]\n      .filter(s => values.get(s).size > 1)\n      .sort((s1, s2) => values.get(s1).size - values.get(s2).size)[0];\n\n  return some(values.get(s), d => search(assign(new Map(values), s, d)));\n}\n\n/**\n * A puzzle is solved if each unit is a permutation of the digits 1 to 9.\n */\nfunction solved(values) {\n  function unitSolved(unit) {\n    for (let s of unit) {\n      let diff = [...values.get(s)].filter(d => !digits.has(d));\n      if (diff.length > 0) return false;\n    }\n\n    return true;\n  }\n\n  return values && all(unitlist.map(u => unitSolved(u)));\n}\n\n/**\n * Make a random puzzle with N or more assignments. Restart on contradictions.\n * Note the resulting puzzle is not guaranteed to be solvable, but empirically\n * about 99.8% of them are solvable. Some have multiple solutions\n */\nfunction randomPuzzle(n = 17) {\n  let values = new Map();\n  squares.forEach(s => values.set(s, digits));\n\n  for (let s of shuffle(squares)) {\n    if (!assign(values, s, randomValue(values.get(s)))) {\n      break;\n    }\n\n    let ds = [...squares]\n        .filter(s => values.get(s).size === 1)\n        .map(s => values.get(s));\n\n    if (ds.length >= n && new Set(ds).size >= 8) {\n      return [...squares]\n          .map(s => values.get(s).size === 1 ? [...values.get(s)][0] : '0');\n    }\n  }\n\n  return randomPuzzle(n);\n}\n\nfunction randomValue(values) {\n  return [...values][getRandomInt(0, values.size - 1)];\n}\n\nfunction isUnique(original, test) {\n  for (let [s, d] of original) {\n    if ([...test.get(s)][0] !== [...d][0]) return false;\n  }\n\n  return true;\n}\n\n/**\n * Iterate through the randomly shuffled squares.\n * After removing each square from the solution\n * solve it and test if it is the same as the original.\n * If the solution doesn't match undo the removal and\n * try another square.\n */\nfunction createPuzzle(solution) {\n  let puzzle = [];\n  let indices = {};\n  let shuffled = shuffle(squares);\n\n  [...squares].forEach((s, i) => {\n    puzzle.push([...solution.get(s)][0]);\n    indices[s] = i;\n  });\n\n  let result = new Map();\n\n  for (let i = 0; i < shuffled.length; i++) {\n    let j = indices[shuffled[i]];\n    let v = puzzle[j];\n    puzzle[j] = '0';\n\n    if (!isUnique(solution, solve(puzzle))) {\n      puzzle[j] = v;\n      result.set(shuffled[i], v);\n    } else {\n      result.set(shuffled[i], '0');\n    }\n  }\n\n  return result;\n}\n\nexport default {\n  getGame: (difficulty = level.easy) => {\n    let solution = solve(randomPuzzle(81 - difficulty));\n\n    while (!solved(solution)) {\n      solution = solve(randomPuzzle());\n    }\n\n    return {\n      puzzle: createPuzzle(solution),\n      solution: solution\n    };\n  }\n}\n","import {\n  getLowerCaseRows,\n  getCols,\n  getSquares,\n  getPeers, getUnits, getUnitList\n} from \"./sudoku-grid-util\";\n\nconst n = 9;\nconst squareClass = 'col-1 square';\nconst contentClass = 'square-content';\n\nlet createRow = (cellSize) => {\n  let row = document.createElement('div');\n  row.setAttribute('class', 'row');\n  row.style.height = `${cellSize}px`;\n\n  return row;\n};\n\nlet createSquare = (cellSize) => {\n  let square = document.createElement('div');\n  square.setAttribute('class', squareClass);\n\n  square.style.height = `${cellSize}px`;\n  square.style.width = `${cellSize}px`;\n  square.style.maxWidth = `${cellSize}px`;\n  square.style.flex = `0 0 ${cellSize}px`;\n\n  return square;\n};\n\nlet createSquareContent = (id) => {\n  let content = document.createElement('div');\n  content.id = id;\n  content.setAttribute('class', contentClass);\n\n  return content;\n};\n\nlet toLowerCase = (squares) => {\n  let result = new Map();\n  for (let [s, d] of squares) {\n    result.set(s.toLowerCase(), new Set([...d].map(d1 => d1.toLowerCase())));\n  }\n\n  return result;\n};\n\nexport function build(id='grid-container') {\n  let rows = [...getLowerCaseRows()];\n  let cols = [...getCols()];\n\n  let element = document.getElementById(id);\n  let squares = new Map();\n  let cellSize = element.offsetWidth ? (element.offsetWidth / n) - 3 : 50;\n\n  for (let i = 0; i < n; i++) {\n    let row = createRow(cellSize);\n\n    for (let j = 0; j < n; j++) {\n      let id = `${rows[i]}${cols[j]}`;\n      let square = createSquare(cellSize);\n      let content = createSquareContent(id);\n\n      square.appendChild(content);\n      row.appendChild(square);\n      squares.set(id, content);\n    }\n\n    element.appendChild(row);\n  }\n\n  let s = getSquares();\n  let u = getUnitList();\n  let peerIds = toLowerCase(getPeers(s, getUnits(s, u)));\n  let peers = new Map();\n\n  for (let [s, p] of peerIds) {\n    peers.set(s, [...p].map(x => squares.get(x)));\n  }\n\n  return {\n    peers: peers,\n    squares: squares\n  };\n}\n","import {build} from './sudoku-grid-builder';\n\nexport default class SudokuGrid {\n  constructor(id='grid-container') {\n    this.grid = build(id);\n    this.peers = this.grid.peers;\n    this.squares = this.grid.squares;\n  }\n\n  fillClues(clues) {\n    for (let [s, d] of clues) {\n      let clue = [...d][0];\n      let square = this.squares.get(s.toLowerCase());\n\n      if (clue === '0' || clue === '.') {\n        square.innerHTML = '';\n      } else {\n        square.classList.add('clue');\n        square.innerHTML = clue;\n      }\n    }\n  }\n\n  setSquareValue(value, puzzle) {\n    if (this.highlightedSquare) {\n      puzzle.set(this.highlightedSquare.id.toUpperCase(), new Set(value));\n      this.highlightedSquare.innerHTML = value;\n    }\n  }\n\n  highlightSquare(square) {\n    if (!square.classList.contains('clue')) {\n      if (this.highlightedSquare) {\n        this.highlightedSquare.classList.remove('focused-content');\n        this.highlightedSquare.classList.remove('highlight');\n      }\n\n      this.highlightedSquare = square;\n      this.highlightedSquare.classList.add('focused-content');\n    }\n  }\n\n  highlightPeers(square) {\n    if (!this.squares.get(square).classList.contains('clue')) {\n      if (this.highlightedPeers) {\n        this.highlightedPeers.forEach(p => {\n          if (p.id !== square) p.classList.remove('highlight');\n        });\n      }\n\n      this.highlightedPeers = this.peers.get(square);\n      this.highlightedPeers.forEach(p => p.classList.add('highlight'));\n    }\n  }\n}","import generator from './sudoku-generator';\nimport SudokuGrid from './sudoku-grid';\n\nexport default class Sudoku {\n  constructor() {\n    this.game = generator.getGame();\n    this.puzzle = this.game.puzzle;\n    this.original = new Map(this.puzzle);\n    this.solution = this.game.solution;\n\n    this.grid = new SudokuGrid();\n    this.grid.fillClues(this.puzzle);\n\n    this.setKeyInputEvents();\n    this.setBtnInputEvents();\n\n    document.getElementById('reset').onclick = () => this.reset();\n    document.getElementById('erase').onclick = () => this.erase();\n  }\n\n  reset() {\n    this.puzzle = new Map(this.original);\n    this.grid.fillClues(this.puzzle);\n  }\n\n  erase() {\n    this.grid.setSquareValue('', this.puzzle);\n  }\n\n  setBtnInputEvents() {\n    let grid = this.grid;\n    let buttons = document.querySelectorAll('.number-btn');\n\n    buttons.forEach(b => {\n      b.onclick = () => {\n        grid.setSquareValue(b.value, this.puzzle);\n        if (this.solved()) Sudoku.displayMessage();\n      }\n    });\n  }\n\n  setKeyInputEvents() {\n    let grid = this.grid;\n    let squares = this.grid.squares;\n\n    // Setup touch/click events for each square.\n    for (let [s, el] of squares) {\n      el.onclick = () => {\n        grid.highlightSquare(el);\n        grid.highlightPeers(s);\n      }\n    }\n\n    // Input event\n    document.onkeydown = (e) => {\n      let value = e.key;\n      let keycode = e.keyCode;\n\n      if (keycode >= 49 && keycode <= 57) {\n        grid.setSquareValue(value, this.puzzle);\n        if (this.solved()) Sudoku.displayMessage()\n\n      } else if (keycode === 8) {\n        grid.setSquareValue('', this.puzzle);\n      }\n    }\n  }\n\n  solved() {\n    for (let [s, d] of this.solution) {\n      if ([...this.puzzle.get(s)][0] !== [...d][0]) return false;\n    }\n\n    return true;\n  }\n\n  static displayMessage() {\n    window.alert(`Congratulations! You solved the puzzle.`)\n  }\n}","import '../css/main.css';\nimport Sudoku from \"./sudoku\";\n\nnew Sudoku();","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}